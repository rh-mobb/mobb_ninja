<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.109.0"><meta name=generator content="Relearn 5.2.3+tip"><meta name=description content><title>Integrating ROSA and ASEA Landing Zones :: Managed OpenShift Black Belt - Unofficial Documentation</title><link href=https://mobb.ninja/css/fontawesome-all.min.css?1673631442 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://mobb.ninja/css/fontawesome-all.min.css?1673631442 rel=stylesheet></noscript><link href=https://mobb.ninja/css/featherlight.min.css?1673631442 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://mobb.ninja/css/featherlight.min.css?1673631442 rel=stylesheet></noscript><link href=https://mobb.ninja/css/auto-complete.css?1673631442 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://mobb.ninja/css/auto-complete.css?1673631442 rel=stylesheet></noscript><link href=https://mobb.ninja/css/perfect-scrollbar.min.css?1673631442 rel=stylesheet><link href=https://mobb.ninja/css/nucleus.css?1673631442 rel=stylesheet><link href=https://mobb.ninja/css/fonts.css?1673631442 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://mobb.ninja/css/fonts.css?1673631442 rel=stylesheet></noscript><link href=https://mobb.ninja/css/theme.css?1673631442 rel=stylesheet><link href=https://mobb.ninja/css/theme-red.css?1673631442 rel=stylesheet id=variant-style><link href=https://mobb.ninja/css/ie.css?1673631442 rel=stylesheet><link href=https://mobb.ninja/css/variant.css?1673631442 rel=stylesheet><link href=https://mobb.ninja/css/print.css?1673631442 rel=stylesheet media=print><script src=https://mobb.ninja/js/variant.js?1673631442></script>
<script>var index_url="https://mobb.ninja/index.json",baseUriFull,root_url="https://mobb.ninja/",baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",baseUriFull="https://mobb.ninja/",window.variants&&variants.init(["red"])</script><script src=https://mobb.ninja/js/jquery.min.js?1673631442 defer></script></head><body class="mobile-support default" data-url=https://mobb.ninja/docs/rosa/rosa-asea-landing-zone/><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable><div><div class=navigation><a class="nav nav-next" href=https://mobb.ninja/docs/rosa/ecr/ title="Configuring a ROSA cluster to pull images from AWS Elastic Container Registry (ECR) (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a></div><div class=navigation><a class="nav nav-prev" href=https://mobb.ninja/docs/rosa/security-ra/ title="Security Reference Architecture for ROSA (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a></div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle title='Menu (CTRL+ALT+m)'><i class="fas fa-bars fa-fw"></i></a></span>
<span id=toc-menu title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="4"><a itemprop=item href=https://mobb.ninja/><span itemprop=name>Documentation from the MOBB</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3"><a itemprop=item href=https://mobb.ninja/docs/><span itemprop=name>Documentation from the MOBB</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="2"><a itemprop=item href=https://mobb.ninja/docs/rosa/><span itemprop=name>Red Hat Openshift Service on AWS</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="1"><a itemprop=item href=https://mobb.ninja/docs/rosa/rosa-asea-landing-zone/ aria-disabled=true><span itemprop=name>Integrating ROSA and ASEA Landing Zones</span></a></li></ol></div><div class="default-animation progress"><div class=wrapper><nav id=TableOfContents><ul><li><a href=#integrating-red-hat-openshift-service-on-aws-rosa-and-aws-secure-environment-accelerator-asea-landing-zones>Integrating Red Hat OpenShift Service on AWS (ROSA) and AWS Secure Environment Accelerator (ASEA) Landing Zones</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#asea-configuration>ASEA Configuration</a><ul><li><a href=#addition-of-a-rosa-workload-organizational-unit>Addition of a ROSA Workload Organizational Unit</a></li><li><a href=#creation-of-the-rosa-workload-account>Creation of the ROSA Workload Account</a></li></ul></li><li><a href=#enabling-rosa>Enabling ROSA</a></li><li><a href=#deploy-a-rosa-cluster>Deploy a ROSA cluster</a><ul><li><a href=#prepare-the-rosa-workload-account>Prepare the ROSA Workload Account</a></li><li><a href=#create-the-required-rosa-account-roles>Create the required ROSA Account Roles</a></li><li><a href=#create-the-required-kms-key-and-initial-policy>Create the Required KMS Key and Initial Policy</a></li><li><a href=#deploy-a-single-az-single-subnet-privatelink-sts-rosa-cluster>Deploy a single AZ, single subnet, PrivateLink, STS ROSA cluster</a></li><li><a href=#access-the-cluster>Access the cluster</a></li></ul></li></ul></nav></div></div></div></nav><main id=body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><div id=head-tags><div class=tags><a class=tag-link href=https://mobb.ninja/tags/aws>AWS</a>
<a class=tag-link href=https://mobb.ninja/tags/rosa>ROSA</a></div></div><style>.alert{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.alert-warning{background-color:#fcf8e3;border-color:#fbeed5;color:#c09853}</style><p class="alert alert-warning"><b>IMPORTANT NOTE</b>: This site is not official Red Hat documentation and is provided for informational purposes only. These guides may be experimental, proof of concept, or early adoption. Officially supported documentation is available at <a href=https://docs.openshift.com target=_blank>docs.openshift.com</a> and <a href=https://access.redhat.com target=_blank>access.redhat.com</a>.</p><article class=default><h1>Integrating ROSA and ASEA Landing Zones</h1><h2 id=integrating-red-hat-openshift-service-on-aws-rosa-and-aws-secure-environment-accelerator-asea-landing-zones>Integrating Red Hat OpenShift Service on AWS (ROSA) and AWS Secure Environment Accelerator (ASEA) Landing Zones</h2><p><strong>Tyler Stacey</strong></p><p><em>Last updated 28 Sep 2022</em></p><p>The <a href=https://aws-samples.github.io/aws-secure-environment-accelerator/>AWS Secure Environment Accelerator (ASEA)</a> is a tool developed and designed by AWS to help deploy and operate a secure landing zone on AWS. ASEA creates core management and operations accounts, configures networking, identity services, cloud security services, and centralized logging and alerting. In this post, you will learn how to deploy Red Hat OpenShift Service on AWS (ROSA) in an ASEA environment.</p><p>This guide is validated for ASEA v1.5.3 (<a href=https://github.com/aws-samples/aws-secure-environment-accelerator/blob/main/reference-artifacts/SAMPLE_CONFIGS/config.example.json>using the full configuration</a>) and ROSA v4.11.4.</p><h2 id=prerequisites>Prerequisites</h2><ul><li><a href=https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html>AWS CLI</a></li><li><a href=https://github.com/openshift/rosa/releases/tag/v1.2.6>Rosa CLI</a> v1.2.6</li><li>Knowledge of ASEA operations and troubleshooting</li><li>Pre-deployed ASEA v1.5.3</li></ul><h2 id=asea-configuration>ASEA Configuration</h2><p>ASEA is delivered with a sample configuration file that deploys an opinionated and prescriptive architecture designed to help meet the security and operational requirements of many AWS customers around the world. The sample deployment configuration of the ASEA provides a prescriptive architecture that helps customers meet NIST 800-53 and/or Canadian Center for Cyber Security (CCCS) Cloud Medium Control Profile:</p><p><img src=ASEA-high-level-architecture.png alt="ASEA Prescriptive Architecture"></p><p>To best support the automated deployment of ROSA clusters some modifications to the default configuration need to be made:</p><h3 id=addition-of-a-rosa-workload-organizational-unit>Addition of a ROSA Workload Organizational Unit</h3><p>A separate ROSA Organizational Unit (OU) is created in AWS Organizations through the ASEA configuration files to support the configuration required by the service. The ROSA OU has the following characteristics:</p><ul><li><p>Dynamic Virtual Private Cloud (VPC) generation: The CCCS Cloud Medium Profile requires centralized ingress and egress of network traffic in the cloud. To support this the ROSA account Virtual Private Clouds (VPCs) must be attached to the transit gateway and have appropriate routes to direct traffic to the deployed firewall solution. A separate VPC is required for ROSA based on the requirement to create a Route53 Private Hosted Zone (PHZ) during the cluster installation. Currently, shared VPCs do not support the creation of a PHZ in an account separate from the VPC. Support for pre-existing Route53 hosted zones is currently in development: <a href=https://github.com/openshift-cs/managed-openshift/issues/70>https://github.com/openshift-cs/managed-openshift/issues/70</a></p></li><li><p>Private Marketplace (PMP) Access to ROSA: Terms and conditions for the use of ROSA are enabled through the Private Marketplace when the ROSA service is enabled on each account. This is a one-time activity per account.</p></li><li><p>Account Structure: We recommend deploying ROSA into dedicated member accounts based on intended usage: Development, Testing, and Production. This allows for tighter access controls and allows for account resources to be dedicated to each type of cluster.</p></li></ul><p>To support this configuration, the following code block must be added to the ASEA config file as a new OU:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;ROSA&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;workload&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;The ROSA OU is used to support the configuration required by the service.&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;scps&#34;</span>: [
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;Guardrails-Part-0&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;Guardrails-Part-1&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;Guardrails-Sensitive&#34;</span>
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;default-budgets&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Default ROSA Budget&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;period&#34;</span>: <span style=color:#e6db74>&#34;Monthly&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;amount&#34;</span>: <span style=color:#ae81ff>2000</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;include&#34;</span>: [
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;Upfront-reservation-fees&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;Recurring-reservation-charges&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;Other-subscription-costs&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;Taxes&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;Support-charges&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;Discounts&#34;</span>
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;alerts&#34;</span>: [
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;Actual&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;threshold-percent&#34;</span>: <span style=color:#ae81ff>50</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;emails&#34;</span>: [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;MYEMAIL+aseabilling@amazon.com&#34;</span>
</span></span><span style=display:flex><span>                ]
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;Actual&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;threshold-percent&#34;</span>: <span style=color:#ae81ff>75</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;emails&#34;</span>: [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;MYEMAIL+aseabilling@amazon.com&#34;</span>
</span></span><span style=display:flex><span>                ]
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;Actual&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;threshold-percent&#34;</span>: <span style=color:#ae81ff>90</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;emails&#34;</span>: [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;MYEMAIL+aseabilling@amazon.com&#34;</span>
</span></span><span style=display:flex><span>                ]
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;Actual&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;threshold-percent&#34;</span>: <span style=color:#ae81ff>100</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;emails&#34;</span>: [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;MYEMAIL+aseabilling@amazon.com&#34;</span>
</span></span><span style=display:flex><span>                ]
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;vpc&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;deploy&#34;</span>: <span style=color:#e6db74>&#34;local&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::OU_NAME}&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;This VPC is deployed locally in each ROSA account and each VPC will be dynamically assigned unique CIDR ranges and connected to the TGW to enable central ingress/egress.&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;cidr-src&#34;</span>: <span style=color:#e6db74>&#34;dynamic&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;cidr&#34;</span>: [
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>20</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;region&#34;</span>: <span style=color:#e6db74>&#34;${HOME_REGION}&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;use-central-endpoints&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;flow-logs&#34;</span>: <span style=color:#e6db74>&#34;BOTH&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;dns-resolver-logging&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;subnets&#34;</span>: [
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;TGW&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;share-to-ou-accounts&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;share-to-specific-accounts&#34;</span>: [],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;definitions&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;a&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>27</span>
</span></span><span style=display:flex><span>                            }
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;b&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>27</span>
</span></span><span style=display:flex><span>                            }
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;d&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>27</span>
</span></span><span style=display:flex><span>                            },
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;disabled&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Web&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;share-to-ou-accounts&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;share-to-specific-accounts&#34;</span>: [],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;definitions&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;a&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>24</span>
</span></span><span style=display:flex><span>                            }
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;b&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>24</span>
</span></span><span style=display:flex><span>                            }
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;d&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>24</span>
</span></span><span style=display:flex><span>                            },
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;disabled&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;App&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;share-to-ou-accounts&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;share-to-specific-accounts&#34;</span>: [],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;definitions&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;a&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>24</span>
</span></span><span style=display:flex><span>                            }
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;b&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>24</span>
</span></span><span style=display:flex><span>                            }
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;d&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>24</span>
</span></span><span style=display:flex><span>                            },
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;disabled&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Data&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;share-to-ou-accounts&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;share-to-specific-accounts&#34;</span>: [],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;definitions&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;a&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>24</span>
</span></span><span style=display:flex><span>                            }
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;b&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>24</span>
</span></span><span style=display:flex><span>                            }
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;d&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>24</span>
</span></span><span style=display:flex><span>                            },
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;disabled&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;nacls&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;rule&#34;</span>: <span style=color:#ae81ff>100</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;protocol&#34;</span>: <span style=color:#ae81ff>-1</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;ports&#34;</span>: <span style=color:#ae81ff>-1</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;rule-action&#34;</span>: <span style=color:#e6db74>&#34;deny&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;egress&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr-blocks&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;vpc&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}&#34;</span>,
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;subnet&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Web&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                },
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;vpc&#34;</span>: <span style=color:#e6db74>&#34;Central&#34;</span>,
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;subnet&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Data&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;rule&#34;</span>: <span style=color:#ae81ff>32000</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;protocol&#34;</span>: <span style=color:#ae81ff>-1</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;ports&#34;</span>: <span style=color:#ae81ff>-1</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;rule-action&#34;</span>: <span style=color:#e6db74>&#34;allow&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;egress&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr-blocks&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;0.0.0.0/0&#34;</span>
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;rule&#34;</span>: <span style=color:#ae81ff>100</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;protocol&#34;</span>: <span style=color:#ae81ff>-1</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;ports&#34;</span>: <span style=color:#ae81ff>-1</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;rule-action&#34;</span>: <span style=color:#e6db74>&#34;deny&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;egress&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr-blocks&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;vpc&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}&#34;</span>,
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;subnet&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Web&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                },
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;vpc&#34;</span>: <span style=color:#e6db74>&#34;Central&#34;</span>,
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;subnet&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Data&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;rule&#34;</span>: <span style=color:#ae81ff>32000</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;protocol&#34;</span>: <span style=color:#ae81ff>-1</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;ports&#34;</span>: <span style=color:#ae81ff>-1</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;rule-action&#34;</span>: <span style=color:#e6db74>&#34;allow&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;egress&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr-blocks&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;0.0.0.0/0&#34;</span>
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Mgmt&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;share-to-ou-accounts&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;share-to-specific-accounts&#34;</span>: [],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;definitions&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;a&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>26</span>
</span></span><span style=display:flex><span>                            }
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;b&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>26</span>
</span></span><span style=display:flex><span>                            }
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;az&#34;</span>: <span style=color:#e6db74>&#34;d&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;route-table&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;cidr&#34;</span>: {
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;pool&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&#34;size&#34;</span>: <span style=color:#ae81ff>26</span>
</span></span><span style=display:flex><span>                            },
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;disabled&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;gateway-endpoints&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;s3&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;dynamodb&#34;</span>
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;route-tables&#34;</span>: [
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;${CONFIG::VPC_NAME}VPC_Common&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;routes&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;destination&#34;</span>: <span style=color:#e6db74>&#34;0.0.0.0/0&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;target&#34;</span>: <span style=color:#e6db74>&#34;TGW&#34;</span>
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;destination&#34;</span>: <span style=color:#e6db74>&#34;s3&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;target&#34;</span>: <span style=color:#e6db74>&#34;s3&#34;</span>
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;destination&#34;</span>: <span style=color:#e6db74>&#34;DynamoDB&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;target&#34;</span>: <span style=color:#e6db74>&#34;DynamoDB&#34;</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;security-groups&#34;</span>: [
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Mgmt&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;inbound-rules&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Mgmt RDP/SSH Traffic Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;RDP&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;SSH&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: <span style=color:#e6db74>&#34;${RANGE-RESTRICT}&#34;</span>
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Central VPC Traffic Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;vpc&#34;</span>: <span style=color:#e6db74>&#34;Central&#34;</span>,
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;subnet&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Web&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;App&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Mgmt&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;App2&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;outbound-rules&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;All Outbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;0.0.0.0/0&#34;</span>
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Web&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;inbound-rules&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;World Web Traffic Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;HTTP&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;HTTPS&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;0.0.0.0/0&#34;</span>
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Central VPC Traffic Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;vpc&#34;</span>: <span style=color:#e6db74>&#34;Central&#34;</span>,
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;subnet&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Web&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;App&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Mgmt&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;App2&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Local Mgmt Traffic Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;security-group&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Mgmt&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;outbound-rules&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;All Outbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;0.0.0.0/0&#34;</span>
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;App&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;inbound-rules&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Central VPC Traffic Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;vpc&#34;</span>: <span style=color:#e6db74>&#34;Central&#34;</span>,
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;subnet&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Web&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;App&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Mgmt&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;App2&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Local Mgmt Traffic Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;security-group&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Mgmt&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Local Web Tier Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;security-group&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Web&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Allow East/West Communication Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;security-group&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;App&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;outbound-rules&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;All Outbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;0.0.0.0/0&#34;</span>
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Data&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;inbound-rules&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Central VPC Traffic Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;vpc&#34;</span>: <span style=color:#e6db74>&#34;Central&#34;</span>,
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;subnet&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Web&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;App&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Mgmt&#34;</span>,
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;App2&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Local Mgmt Traffic Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;security-group&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Mgmt&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Local App DB Traffic Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;MSSQL&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;MYSQL/AURORA&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;REDSHIFT&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;POSTGRESQL&#34;</span>,
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ORACLE-RDS&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;security-group&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;App&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        },
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Allow East/West Communication Inbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                {
</span></span><span style=display:flex><span>                                    <span style=color:#f92672>&#34;security-group&#34;</span>: [
</span></span><span style=display:flex><span>                                        <span style=color:#e6db74>&#34;Data&#34;</span>
</span></span><span style=display:flex><span>                                    ]
</span></span><span style=display:flex><span>                                }
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;outbound-rules&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;All Outbound&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;type&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;ALL&#34;</span>
</span></span><span style=display:flex><span>                            ],
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&#34;source&#34;</span>: [
</span></span><span style=display:flex><span>                                <span style=color:#e6db74>&#34;0.0.0.0/0&#34;</span>
</span></span><span style=display:flex><span>                            ]
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;tgw-attach&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;associate-to-tgw&#34;</span>: <span style=color:#e6db74>&#34;Main&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;account&#34;</span>: <span style=color:#e6db74>&#34;shared-network&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;associate-type&#34;</span>: <span style=color:#e6db74>&#34;ATTACH&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;tgw-rt-associate&#34;</span>: [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;shared&#34;</span>
</span></span><span style=display:flex><span>                ],
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;tgw-rt-propagate&#34;</span>: [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;core&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;shared&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;segregated&#34;</span>
</span></span><span style=display:flex><span>                ],
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;blackhole-route&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;attach-subnets&#34;</span>: [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;TGW&#34;</span>
</span></span><span style=display:flex><span>                ],
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;options&#34;</span>: [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;DNS-support&#34;</span>
</span></span><span style=display:flex><span>                ]
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;iam&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;users&#34;</span>: [],
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;policies&#34;</span>: [
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;policy-name&#34;</span>: <span style=color:#e6db74>&#34;Default-Boundary-Policy&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;policy&#34;</span>: <span style=color:#e6db74>&#34;boundary-policy.txt&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;roles&#34;</span>: [
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;EC2-Default-SSM-AD-Role&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ec2&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;ssm-log-archive-write-access&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;policies&#34;</span>: [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;AmazonSSMManagedInstanceCore&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;AmazonSSMDirectoryServiceAccess&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;CloudWatchAgentServerPolicy&#34;</span>
</span></span><span style=display:flex><span>                ],
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;boundary-policy&#34;</span>: <span style=color:#e6db74>&#34;Default-Boundary-Policy&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;ssm-automation&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;account&#34;</span>: <span style=color:#e6db74>&#34;operations&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;regions&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;${HOME_REGION}&#34;</span>
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;documents&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;SSM-ELB-Enable-Logging&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;Put-S3-Encryption&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;Attach-IAM-Instance-Profile&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;Attach-IAM-Role-Policy&#34;</span>
</span></span><span style=display:flex><span>            ]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;aws-config&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;excl-regions&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;ap-northeast-3&#34;</span>
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;rules&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;EC2-INSTANCE-PROFILE&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;EC2-INSTANCE-PROFILE-PERMISSIONS&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;ELB_LOGGING_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;ACM_CERTIFICATE_EXPIRATION_CHECK&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;ALB_WAF_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;API_GW_CACHE_ENABLED_AND_ENCRYPTED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;CLOUD_TRAIL_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;CLOUDTRAIL_S3_DATAEVENTS_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;CLOUDTRAIL_SECURITY_TRAIL_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;CLOUDWATCH_ALARM_ACTION_CHECK&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;CW_LOGGROUP_RETENTION_PERIOD_CHECK&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;DB_INSTANCE_BACKUP_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;DYNAMODB_IN_BACKUP_PLAN&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;DYNAMODB_TABLE_ENCRYPTED_KMS&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;EBS_IN_BACKUP_PLAN&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;EC2_INSTANCE_DETAILED_MONITORING_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;EC2_MANAGEDINSTANCE_PATCH_COMPLIANCE_STATUS_CHECK&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;EC2_VOLUME_INUSE_CHECK&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;ELASTICACHE_REDIS_CLUSTER_AUTOMATIC_BACKUP_CHECK&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;ELB_ACM_CERTIFICATE_REQUIRED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;ELB_CROSS_ZONE_LOAD_BALANCING_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;EMR_KERBEROS_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;GUARDDUTY_NON_ARCHIVED_FINDINGS&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;IAM_GROUP_HAS_USERS_CHECK&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;IAM_PASSWORD_POLICY&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;IAM_USER_GROUP_MEMBERSHIP_CHECK&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;INCOMING_SSH_DISABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;INSTANCES_IN_VPC&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;INTERNET_GATEWAY_AUTHORIZED_VPC_ONLY&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;RDS_IN_BACKUP_PLAN&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;REDSHIFT_CLUSTER_CONFIGURATION_CHECK&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;RESTRICTED_INCOMING_TRAFFIC&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;S3_BUCKET_POLICY_GRANTEE_CHECK&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;S3_BUCKET_VERSIONING_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;SAGEMAKER_ENDPOINT_CONFIGURATION_KMS_KEY_CONFIGURED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;SAGEMAKER_NOTEBOOK_INSTANCE_KMS_KEY_CONFIGURED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;SECURITYHUB_ENABLED&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;VPC_SG_OPEN_ONLY_TO_AUTHORIZED_PORTS&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;WAFV2_LOGGING_ENABLED&#34;</span>
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;remediate-regions&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;${HOME_REGION}&#34;</span>
</span></span><span style=display:flex><span>            ]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=creation-of-the-rosa-workload-account>Creation of the ROSA Workload Account</h3><p>Following the Development/Testing/Production account structure of the ASEA requires that separate accounts be created for each environment in the ROSA OU; this allows the administrators to restrict account access for each type of environment. It is recommended that account creation happens just-in-time to reduce costs incurred by each account.</p><p>To add the required accounts, modify the <code>workload-account-configs</code> section of the ASEA configuration to include the following account:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;rosa-dev&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;account-name&#34;</span>: <span style=color:#e6db74>&#34;rosa-dev&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;email&#34;</span>: <span style=color:#e6db74>&#34;MYEMAIL+rosadev@amazon.com&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;ou&#34;</span>: <span style=color:#e6db74>&#34;ROSA&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;ou-path&#34;</span>: <span style=color:#e6db74>&#34;ROSA&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;src-filename&#34;</span>: <span style=color:#e6db74>&#34;config.json&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=enabling-rosa>Enabling ROSA</h2><p>One of the key security features of this architecture is the use of highly restrictive Service Control Policies (SCPs) that allow for fine-grained control of access to AWS services and APIs by users and member accounts. Because ROSA automates tasks typically performed by privileged administrators, ASEA deployed SCPs must be temporarily modified to enable ROSA functionality. This is a one time activity per account where ROSA clusters will be deployed.</p><p>To support the most restrictive SCPs of ASEA we will consider the following SCPs for the installation:</p><ul><li>ASEA-Guardrails-Part0-WkldOUs</li><li>ASEA-Guardrails-Part1</li><li>ASEA-Guardrails-Sensitive</li></ul><p>To prepare your ASEA environment and enable ROSA to perform the following steps:</p><ol><li><p>Create the ROSA-TempAdministrator role with AdministratorAccess in the required account.</p></li><li><p>In config.json, only apply <code>Guardrails-Part-0</code>, <code>Guardrails-Part-1</code> to the ROSA OU.</p></li><li><p>Run the main State Machine for ASEA and wait for successful completion.</p></li><li><p>Enable the ROSA service in the AWS Console in the required account using the ROSA-TempAdministrator
role.</p></li><li><p>In config.json, re-apply Guardrails-Part-0, Guardrails-Part-1, Guardrails-Sensitive.</p></li><li><p>Re-run State Machine and wait for successful completion.</p></li><li><p>You can now delete the ROSA-TempAdministrator role in this account.</p></li></ol><h2 id=deploy-a-rosa-cluster>Deploy a ROSA cluster</h2><p>To install ROSA in a high-security environment, the custom KMS, PrivateLink and STS cluster patterns should be followed. For more information about these patterns please see the following information:</p><ul><li><p><a href=https://aws.amazon.com/blogs/containers/red-hat-openshift-service-on-aws-private-clusters-with-aws-privatelink/>https://aws.amazon.com/blogs/containers/red-hat-openshift-service-on-aws-private-clusters-with-aws-privatelink/</a></p></li><li><p><a href=https://docs.openshift.com/rosa/rosa_getting_started_sts/rosa-sts-getting-started-workflow.html>https://docs.openshift.com/rosa/rosa_getting_started_sts/rosa-sts-getting-started-workflow.html</a></p></li></ul><h3 id=prepare-the-rosa-workload-account>Prepare the ROSA Workload Account</h3><p>Log in to the <code>rosa-dev</code> account with a user that has been assigned AdministratorAccess and run the following command using the aws CLI:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>export AWS_REGION<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ca-central-1&#34;</span>
</span></span><span style=display:flex><span>aws iam create-service-linked-role --aws-service-name <span style=color:#e6db74>&#34;elasticloadbalancing.amazonaws.com&#34;</span>
</span></span></code></pre></div><p>Ensure the account meets the minimum required service quotas for ROSA: <a href=https://docs.openshift.com/rosa/rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-required-aws-service-quotas.html#rosa-required-aws-service-quotas>https://docs.openshift.com/rosa/rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-required-aws-service-quotas.html#rosa-required-aws-service-quotas</a></p><p>Verify that the following egress firewall requirements are met: <a href=https://docs.openshift.com/rosa/rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-aws-prereqs.html#osd-aws-privatelink-firewall-prerequisites_prerequisites>https://docs.openshift.com/rosa/rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-aws-prereqs.html#osd-aws-privatelink-firewall-prerequisites_prerequisites</a></p><h3 id=create-the-required-rosa-account-roles>Create the required ROSA Account Roles</h3><p>Creation of the account roles is a one-time activity, create them with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>rosa create account-roles --mode manual --prefix ROSA
</span></span></code></pre></div><p>Using <code>--mode manual</code> generates the aws CLI commands and JSON files needed to create the account-wide roles and policies. Review the roles and policies and run the provided commands from the working directory.</p><h3 id=create-the-required-kms-key-and-initial-policy>Create the Required KMS Key and Initial Policy</h3><p>The custom KMS key is used to encrypt EC2 EBS node volumes and the EBS volumes that are created by the default <code>StorageClass</code> on OpenShift.</p><p>Create a new Symmetric KMS Key for EBS Encryption:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>KMS_ARN<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>aws kms create-key --region $AWS_REGION --description <span style=color:#e6db74>&#39;rosa-ebs-key&#39;</span> --query KeyMetadata.Arn --output text<span style=color:#66d9ef>)</span>
</span></span></code></pre></div><p>Generate the necessary key policy to allow the ROSA STS roles to access the key. Use the below command to populate a sample policy, or create your own.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>AWS_ACCOUNT<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>aws sts get-caller-identity --query Account --output text<span style=color:#66d9ef>)</span>; cat <span style=color:#e6db74>&lt;&lt; EOF &gt; rosa-key-policy.json
</span></span></span><span style=display:flex><span><span style=color:#e6db74>{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Version&#34;: &#34;2012-10-17&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Id&#34;: &#34;rosa-key-policy-1&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Statement&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Sid&#34;: &#34;Enable IAM User Permissions&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Effect&#34;: &#34;Allow&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Principal&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;AWS&#34;: &#34;arn:aws:iam::${AWS_ACCOUNT}:root&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Action&#34;: &#34;kms:*&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Resource&#34;: &#34;*&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Sid&#34;: &#34;Allow ROSA use of the key&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Effect&#34;: &#34;Allow&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Principal&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;AWS&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Support-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Installer-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Worker-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-ControlPlane-Role&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Action&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:Encrypt&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:Decrypt&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:ReEncrypt*&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:GenerateDataKey*&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:DescribeKey&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            ],
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Resource&#34;: &#34;*&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Sid&#34;: &#34;Allow attachment of persistent resources&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Effect&#34;: &#34;Allow&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Principal&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;AWS&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Support-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Installer-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Worker-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-ControlPlane-Role&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Action&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:CreateGrant&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:ListGrants&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:RevokeGrant&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            ],
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Resource&#34;: &#34;*&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Condition&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;Bool&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;kms:GrantIsForAWSResource&#34;: &#34;true&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><p>Apply the newly generated key policy to the custom KMS key.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>aws kms put-key-policy --key-id $KMS_ARN <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--policy file://rosa-key-policy.json <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--policy-name default
</span></span></code></pre></div><h3 id=deploy-a-single-az-single-subnet-privatelink-sts-rosa-cluster>Deploy a single AZ, single subnet, PrivateLink, STS ROSA cluster</h3><p>This deployment configuration should only be used for development. Production clusters should use 3 Availability Zones (AZs) with the <code>--multi-az</code> flag enabled. This requires additional configuration of ASEA and is outside the scope of this post.</p><p>To deploy the cluster, you must gather the following info:</p><ul><li><code>--subnet-ids</code>: AWS subnet IDs that the cluster will be deployed in, the <code>App</code> subnets from the ASEA deployment are recommended.</li><li><code>--machine-cidr</code>: The VPC CIDR in the <code>rosa-dev</code> account deployed by the ASEA.</li></ul><p>Deploy the cluster with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>ROSA_CLUSTER_NAME<span style=color:#f92672>=</span>rosa-ct1
</span></span><span style=display:flex><span>rosa create cluster --cluster-name $ROSA_CLUSTER_NAME --sts --private-link <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--role-arn arn:aws:iam::$AWS_ACCOUNT:role/ROSA-Installer-Role <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--support-role-arn arn:aws:iam::$AWS_ACCOUNT:role/ROSA-Support-Role <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--controlplane-iam-role arn:aws:iam::$AWS_ACCOUNT:role/ROSA-ControlPlane-Role <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--worker-iam-role arn:aws:iam::$AWS_ACCOUNT:role/ROSA-Worker-Role <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--operator-roles-prefix ROSA-$ROSA_CLUSTER_NAME --region ca-central-1 --version 4.11.4 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--compute-nodes <span style=color:#ae81ff>2</span> --compute-machine-type m5.xlarge --machine-cidr 10.0.0.0/20 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--service-cidr 172.30.0.0/16 --pod-cidr 10.128.0.0/14 --host-prefix <span style=color:#ae81ff>23</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--subnet-ids subnet-058aa558a63da3d51 --etcd-encryption --enable-customer-managed-key <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--kms-key-arn $KMS_ARN  --watch --debug
</span></span></code></pre></div><p>While the cluster is creating, create the operator IAM roles:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>rosa create operator-roles --mode manual --cluster $ROSA_CLUSTER_NAME
</span></span></code></pre></div><p>Review the output IAM Role Policy documents and AWS CLI commands for accuracy and run the provided commands.</p><p>After creating the Operator Roles, modify the KMS key policy to allow the CSI driver to function correctly:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>AWS_ACCOUNT<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>aws sts get-caller-identity --query Account --output text<span style=color:#66d9ef>)</span>; cat <span style=color:#e6db74>&lt;&lt; EOF &gt; rosa-key-policy.json
</span></span></span><span style=display:flex><span><span style=color:#e6db74>{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Version&#34;: &#34;2012-10-17&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Id&#34;: &#34;rosa-key-policy-1&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Statement&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Sid&#34;: &#34;Enable IAM User Permissions&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Effect&#34;: &#34;Allow&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Principal&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;AWS&#34;: &#34;arn:aws:iam::${AWS_ACCOUNT}:root&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Action&#34;: &#34;kms:*&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Resource&#34;: &#34;*&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Sid&#34;: &#34;Allow ROSA use of the key&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Effect&#34;: &#34;Allow&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Principal&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;AWS&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Support-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Installer-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Worker-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-ControlPlane-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-${ROSA_CLUSTER_NAME}-openshift-cluster-csi-drivers-ebs-cloud-credent&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-${ROSA_CLUSTER_NAME}-openshift-machine-api-aws-cloud-credentials&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Action&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:Encrypt&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:Decrypt&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:ReEncrypt*&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:GenerateDataKey*&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:DescribeKey&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            ],
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Resource&#34;: &#34;*&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Sid&#34;: &#34;Allow attachment of persistent resources&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Effect&#34;: &#34;Allow&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Principal&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;AWS&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Support-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Installer-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-Worker-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-ControlPlane-Role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-${ROSA_CLUSTER_NAME}-openshift-cluster-csi-drivers-ebs-cloud-credent&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;arn:aws:iam::${AWS_ACCOUNT}:role/ROSA-${ROSA_CLUSTER_NAME}-openshift-machine-api-aws-cloud-credentials&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Action&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:CreateGrant&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:ListGrants&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;kms:RevokeGrant&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            ],
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Resource&#34;: &#34;*&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Condition&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;Bool&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;kms:GrantIsForAWSResource&#34;: &#34;true&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><p>Apply the newly updated key policy to the custom KMS key.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>aws kms put-key-policy --key-id $KMS_ARN <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--policy file://rosa-key-policy.json <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--policy-name default
</span></span></code></pre></div><p>After creating the operator roles, create the required OIDC provider:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>rosa create oidc-provider --mode auto --cluster $ROSA_CLUSTER_NAME
</span></span></code></pre></div><p>Wait for the cluster deployment to finish.</p><h3 id=access-the-cluster>Access the cluster</h3><p>The ROSA cluster can only be accessed from a machine that has routes to the ROSA VPC. One way to gain this access is to use a jumphost in the management subnet and use an AWS Systems Manager terminal session to access the jumphost securely.</p><p>Create a temporary Admin user with <code>cluster-admin</code> privileges:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>rosa create admin -c $ROSA_CLUSTER_NAME
</span></span></code></pre></div><p>Run the resulting login statement from the output. It may take up to 15 minutes before authentication is fully synced.</p><p>Verify the default persistent volumes in the cluster.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>oc get pv
</span></span></code></pre></div><p>Output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                                                        STORAGECLASS       REASON   AGE
</span></span><span style=display:flex><span>pvc-00dac374-a45e-43fa-a313-ae0491e8edf1   10Gi       RWO            Delete           Bound    openshift-monitoring/alertmanager-data-alertmanager-main-1   gp3-customer-kms            26m
</span></span><span style=display:flex><span>pvc-7d211496-4ddf-4200-921c-1404b754afa5   10Gi       RWO            Delete           Bound    openshift-monitoring/alertmanager-data-alertmanager-main-0   gp3-customer-kms            26m
</span></span><span style=display:flex><span>pvc-b5243cef-ec30-4e5c-a348-aeb8136a908c   100Gi      RWO            Delete           Bound    openshift-monitoring/prometheus-data-prometheus-k8s-0        gp3-customer-kms            26m
</span></span><span style=display:flex><span>pvc-ec60c1cf-72cf-4ac6-ab12-8e9e5afdc15f   100Gi      RWO            Delete           Bound    openshift-monitoring/prometheus-data-prometheus-k8s-1        gp3-customer-kms            26m
</span></span></code></pre></div><p>You should see the StorageClass set to <code>gp3-customer-kms</code>. This is the default StorageClass which is encrypted using the customer-provided key.</p><footer class=footline></footer></article></div></main></div><aside id=sidebar class=default-animation><div id=header-wrapper class=default-animation><div id=header class=default-animation><style>#logo svg,#logo svg *{color:#282828;color:var(--MENU-SECTIONS-BG-color);fill:#282828!important;fill:var(--MENU-SECTIONS-BG-color)!important;opacity:.945}a#logo{color:#282828;color:var(--MENU-SECTIONS-BG-color);font-family:work sans,helvetica,tahoma,geneva,arial,sans-serif;font-size:30px;font-weight:300;margin-top:-13px;max-width:80%;text-transform:uppercase;width:226px;white-space:nowrap}a#logo:hover{color:#282828;color:var(--MENU-SECTIONS-BG-color)}#logo svg{margin-bottom:-20px;margin-left:-23.5px;width:40.5%}@media only all and (max-width:59.938em){a#logo{font-size:25px;margin-top:-3px}#logo svg{margin-bottom:-12px;margin-left:-23px}}@media all and (-ms-high-contrast:none){a#logo{margin-top:-58px}#logo svg{margin-bottom:-62px}}</style><a id=logo href=https://mobb.ninja/><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M341.52 285.56c33.65.0 82.34-6.94 82.34-47 .22-6.74.86-1.82-20.88-96.24-4.62-19.15-8.68-27.84-42.31-44.65-26.09-13.34-82.92-35.37-99.73-35.37-15.66.0-20.2 20.17-38.87 20.17-18 0-31.31-15.06-48.12-15.06-16.14.0-26.66 11-34.78 33.62-27.5 77.55-26.28 74.27-26.12 78.27.0 24.8 97.64 106.11 228.47 106.11M429 254.84c4.65 22 4.65 24.35 4.65 27.25.0 37.66-42.33 58.56-98 58.56-125.74.08-235.91-73.65-235.91-122.33a49.55 49.55.0 014.06-19.72C58.56 200.86.0 208.93.0 260.63c0 84.67 200.63 189 359.49 189 121.79.0 152.51-55.08 152.51-98.58.0-34.21-29.59-73.05-82.93-96.24"/></svg>MOBB Ninja</a></div><div class="searchbox default-animation"><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script>var contentLangs=["en"]</script><script src=https://mobb.ninja/js/auto-complete.js?1673631443 defer></script>
<script src=https://mobb.ninja/js/lunr.min.js?1673631443 defer></script>
<script src=https://mobb.ninja/js/lunr.stemmer.support.min.js?1673631443 defer></script>
<script src=https://mobb.ninja/js/lunr.multi.min.js?1673631443 defer></script>
<script src=https://mobb.ninja/js/lunr.en.min.js?1673631443 defer></script>
<script src=https://mobb.ninja/js/search.js?1673631443 defer></script></div><div id=homelinks class=default-animation><ul><li><a class=padding href=https://mobb.ninja/><i class="fas fa-home"></i> Home</a></li></ul></div><div id=content-wrapper class=highlightable><ul class="topics collapsible-menu"><li data-nav-id=/docs/ title="Documentation from the MOBB" class="dd-item parent"><input type=checkbox id=section-2f67fdc9a362fd86f1cfd4450ed56551 class=toggle checked><label for=section-2f67fdc9a362fd86f1cfd4450ed56551></label><a href=https://mobb.ninja/docs/>Documentation from the MOBB</a><ul><li data-nav-id=/docs/quickstart-aro/ title="ARO Quickstart" class=dd-item><a href=https://mobb.ninja/docs/quickstart-aro/>ARO Quickstart</a></li><li data-nav-id=/docs/quickstart-rosa/ title="ROSA Quickstart" class=dd-item><a href=https://mobb.ninja/docs/quickstart-rosa/>ROSA Quickstart</a></li><li data-nav-id=/docs/aro/ title="Azure Red Hat OpenShift" class=dd-item><input type=checkbox id=section-ea9c20146e4edb7d3dc5cab0ddc4bd3a class=toggle><label for=section-ea9c20146e4edb7d3dc5cab0ddc4bd3a></label><a href=https://mobb.ninja/docs/aro/>Azure Red Hat OpenShift</a><ul><li data-nav-id=/docs/aro/shipping-logs-and-metrics-to-azure-blob/ title="Azure Red Hat Openshift - Shippings logs and metrics to Azure Blob storage" class=dd-item><a href=https://mobb.ninja/docs/aro/shipping-logs-and-metrics-to-azure-blob/>Azure Red Hat Openshift - Shippings logs and metrics to Azure Blob storage</a></li><li data-nav-id=/docs/aro/registry/ title="Accessing the Internal Registry from ARO" class=dd-item><a href=https://mobb.ninja/docs/aro/registry/>Accessing the Internal Registry from ARO</a></li><li data-nav-id=/docs/aro/additional-ingress-controller/ title="Adding an additional ingress controller to an ARO cluster" class=dd-item><a href=https://mobb.ninja/docs/aro/additional-ingress-controller/>Adding an additional ingress controller to an ARO cluster</a></li><li data-nav-id=/docs/aro/add-infra-nodes/ title="Adding infrastructure nodes to an ARO cluster" class=dd-item><a href=https://mobb.ninja/docs/aro/add-infra-nodes/>Adding infrastructure nodes to an ARO cluster</a></li><li data-nav-id=/docs/aro/azure-policy/ title="Apply Azure Policy to Azure Policy" class=dd-item><a href=https://mobb.ninja/docs/aro/azure-policy/>Apply Azure Policy to Azure Policy</a></li><li data-nav-id=/docs/aro/disaster-recovery/ title="ARO - Considerations for Disaster Recovery" class=dd-item><a href=https://mobb.ninja/docs/aro/disaster-recovery/>ARO - Considerations for Disaster Recovery</a></li><li data-nav-id=/docs/aro/cert-manager/ title="ARO Custom domain with cert-manager and LetsEncrypt" class=dd-item><a href=https://mobb.ninja/docs/aro/cert-manager/>ARO Custom domain with cert-manager and LetsEncrypt</a></li><li data-nav-id=/docs/aro/ibm-cloud-paks-for-data/ title="ARO IBM Cloud Paks 4 Data" class=dd-item><a href=https://mobb.ninja/docs/aro/ibm-cloud-paks-for-data/>ARO IBM Cloud Paks 4 Data</a></li><li data-nav-id=/docs/aro/gpu/ title="ARO with Nvidia GPU Workloads" class=dd-item><a href=https://mobb.ninja/docs/aro/gpu/>ARO with Nvidia GPU Workloads</a></li><li data-nav-id=/docs/aro/frontdoor/ title="Azure Front Door with ARO ( Azure Red Hat OpenShift )" class=dd-item><a href=https://mobb.ninja/docs/aro/frontdoor/>Azure Front Door with ARO ( Azure Red Hat OpenShift )</a></li><li data-nav-id=/docs/aro/azure-service-operator/ title="Azure Service Operator" class=dd-item><input type=checkbox id=section-c4973928d95ad0b6b86b8742709cea9d class=toggle><label for=section-c4973928d95ad0b6b86b8742709cea9d></label><a href=https://mobb.ninja/docs/aro/azure-service-operator/>Azure Service Operator</a><ul><li data-nav-id=/docs/aro/azure-service-operator/v1/ title="Azure Service Operator V1 in ARO" class=dd-item><a href=https://mobb.ninja/docs/aro/azure-service-operator/v1/>Azure Service Operator V1 in ARO</a></li><li data-nav-id=/docs/aro/azure-service-operator/v2/ title="Azure Service Operator V2 in ARO" class=dd-item><a href=https://mobb.ninja/docs/aro/azure-service-operator/v2/>Azure Service Operator V2 in ARO</a></li></ul></li><li data-nav-id=/docs/aro/managed-upgrade-operator/ title="Enable the Managed Upgrade Operator in ARO and schedule Upgrades" class=dd-item><a href=https://mobb.ninja/docs/aro/managed-upgrade-operator/>Enable the Managed Upgrade Operator in ARO and schedule Upgrades</a></li><li data-nav-id=/docs/aro/federated-metrics/ title="Federating System and User metrics to Azure Files in Azure Red Hat OpenShift" class=dd-item><a href=https://mobb.ninja/docs/aro/federated-metrics/>Federating System and User metrics to Azure Files in Azure Red Hat OpenShift</a></li><li data-nav-id=/docs/aro/aro-machinesets/readme/ title="Helm Chart to set up extra MachineSets on ARO clusters" class=dd-item><a href=https://mobb.ninja/docs/aro/aro-machinesets/readme/>Helm Chart to set up extra MachineSets on ARO clusters</a></li><li data-nav-id=/docs/aro/astronomer/ title="Installing Astronomer on a private ARO cluster" class=dd-item><a href=https://mobb.ninja/docs/aro/astronomer/>Installing Astronomer on a private ARO cluster</a></li><li data-nav-id=/docs/aro/azure-arc-integration/ title="Integrating Azure ARC with ARO" class=dd-item><a href=https://mobb.ninja/docs/aro/azure-arc-integration/>Integrating Azure ARC with ARO</a></li><li data-nav-id=/docs/aro/odf/ title="OpenShift Data Foundation with ARO" class=dd-item><a href=https://mobb.ninja/docs/aro/odf/>OpenShift Data Foundation with ARO</a></li><li data-nav-id=/docs/aro/private-cluster/ title="Private ARO Cluster with access via JumpHost" class=dd-item><a href=https://mobb.ninja/docs/aro/private-cluster/>Private ARO Cluster with access via JumpHost</a></li><li data-nav-id=/docs/aro/setup-quay/ title="Quay on ARO" class=dd-item><input type=checkbox id=section-107cd49f6d91378e87d08e36d5f67445 class=toggle><label for=section-107cd49f6d91378e87d08e36d5f67445></label><a href=https://mobb.ninja/docs/aro/setup-quay/>Quay on ARO</a><ul><li data-nav-id=/docs/aro/setup-quay/quay-cli/ title="Setting up Quay on an ARO cluster via CLI" class=dd-item><a href=https://mobb.ninja/docs/aro/setup-quay/quay-cli/>Setting up Quay on an ARO cluster via CLI</a></li><li data-nav-id=/docs/aro/setup-quay/quay-console/ title="Setting up Quay on an ARO cluster via Console" class=dd-item><a href=https://mobb.ninja/docs/aro/setup-quay/quay-console/>Setting up Quay on an ARO cluster via Console</a></li></ul></li><li data-nav-id=/docs/aro/ocm/ title="Registering an ARO cluster to OpenShift Cluster Manager" class=dd-item><a href=https://mobb.ninja/docs/aro/ocm/>Registering an ARO cluster to OpenShift Cluster Manager</a></li><li data-nav-id=/docs/aro/vpn/ title="Setup a VPN Connection into an ARO Cluster with OpenVPN" class=dd-item><a href=https://mobb.ninja/docs/aro/vpn/>Setup a VPN Connection into an ARO Cluster with OpenVPN</a></li><li data-nav-id=/docs/aro/trident/ title="Trident NetApp operator setup for Azure NetApp files" class=dd-item><a href=https://mobb.ninja/docs/aro/trident/>Trident NetApp operator setup for Azure NetApp files</a></li><li data-nav-id=/docs/aro/clf-to-azure/ title="Using Cluster Logging Forwarder in ARO with Azure Monitor" class=dd-item><a href=https://mobb.ninja/docs/aro/clf-to-azure/>Using Cluster Logging Forwarder in ARO with Azure Monitor</a></li><li data-nav-id=/docs/aro/egress-ipam-operator/ title="Using the Egressip Ipam Operator with a Private ARO Cluster" class=dd-item><a href=https://mobb.ninja/docs/aro/egress-ipam-operator/>Using the Egressip Ipam Operator with a Private ARO Cluster</a></li></ul></li><li data-nav-id=/docs/rosa/ title="Red Hat Openshift Service on AWS" class="dd-item parent"><input type=checkbox id=section-d82bea3b793597b6ff01917e2ad59aae class=toggle checked><label for=section-d82bea3b793597b6ff01917e2ad59aae></label><a href=https://mobb.ninja/docs/rosa/>Red Hat Openshift Service on AWS</a><ul><li data-nav-id=/docs/rosa/aws-load-balancer-operator/ title="AWS Load Balancer Operator On ROSA" class=dd-item><a href=https://mobb.ninja/docs/rosa/aws-load-balancer-operator/>AWS Load Balancer Operator On ROSA</a></li><li data-nav-id=/docs/rosa/clf-cloudwatch-vector/ title="Configuring the Cluster Log Forwarder for CloudWatch Logs using Vector" class=dd-item><a href=https://mobb.ninja/docs/rosa/clf-cloudwatch-vector/>Configuring the Cluster Log Forwarder for CloudWatch Logs using Vector</a></li><li data-nav-id=/docs/rosa/dynamic-certificates/ title="Dynamic Certificates for ROSA Custom Domain" class=dd-item><a href=https://mobb.ninja/docs/rosa/dynamic-certificates/>Dynamic Certificates for ROSA Custom Domain</a></li><li data-nav-id=/docs/rosa/static-ip-load-balancer/ title="Configure a load balancer service to use a static public IP" class=dd-item><a href=https://mobb.ninja/docs/rosa/static-ip-load-balancer/>Configure a load balancer service to use a static public IP</a></li><li data-nav-id=/docs/rosa/verify-permissions/ title="Verify Permissions for ROSA STS Deployment" class=dd-item><a href=https://mobb.ninja/docs/rosa/verify-permissions/>Verify Permissions for ROSA STS Deployment</a></li><li data-nav-id=/docs/rosa/sts-oidc-flow/ title="STS OIDC in ROSA : How it works!" class=dd-item><a href=https://mobb.ninja/docs/rosa/sts-oidc-flow/>STS OIDC in ROSA : How it works!</a></li><li data-nav-id=/docs/rosa/security-ra/ title="Security Reference Architecture for ROSA" class=dd-item><a href=https://mobb.ninja/docs/rosa/security-ra/>Security Reference Architecture for ROSA</a></li><li data-nav-id=/docs/rosa/rosa-asea-landing-zone/ title="Integrating ROSA and ASEA Landing Zones" class="dd-item active"><a href=https://mobb.ninja/docs/rosa/rosa-asea-landing-zone/>Integrating ROSA and ASEA Landing Zones</a></li><li data-nav-id=/docs/rosa/ecr/ title="Configuring a ROSA cluster to pull images from AWS Elastic Container Registry (ECR)" class=dd-item><a href=https://mobb.ninja/docs/rosa/ecr/>Configuring a ROSA cluster to pull images from AWS Elastic Container Registry (ECR)</a></li><li data-nav-id=/docs/rosa/byo-vpc/ title="Creating a Public/Private BYO VPC for ROSA" class=dd-item><a href=https://mobb.ninja/docs/rosa/byo-vpc/>Creating a Public/Private BYO VPC for ROSA</a></li><li data-nav-id=/docs/rosa/kms/ title="Creating a ROSA cluster in STS mode with custom KMS key" class=dd-item><a href=https://mobb.ninja/docs/rosa/kms/>Creating a ROSA cluster in STS mode with custom KMS key</a></li><li data-nav-id=/docs/rosa/custom-alertmanager/ title="Custom Alerts in ROSA 4.11.x" class=dd-item><a href=https://mobb.ninja/docs/rosa/custom-alertmanager/>Custom Alerts in ROSA 4.11.x</a></li><li data-nav-id=/docs/rosa/ecr-secret-operator/ title="ECR Secret Operator" class=dd-item><input type=checkbox id=section-d622abc3689c39008edcc95bca0300b1 class=toggle><label for=section-d622abc3689c39008edcc95bca0300b1></label><a href=https://mobb.ninja/docs/rosa/ecr-secret-operator/>ECR Secret Operator</a><ul><li data-nav-id=/docs/rosa/ecr-secret-operator/iam_user/ title="Create IAM user and Policy" class=dd-item><a href=https://mobb.ninja/docs/rosa/ecr-secret-operator/iam_user/>Create IAM user and Policy</a></li><li data-nav-id=/docs/rosa/ecr-secret-operator/iam_assume_role/ title="Create STS Assume Role" class=dd-item><a href=https://mobb.ninja/docs/rosa/ecr-secret-operator/iam_assume_role/>Create STS Assume Role</a></li></ul></li><li data-nav-id=/docs/rosa/aws-efs-csi-operator-sts/ title="Enabling the AWS EFS CSI Driver Operator on ROSA" class=dd-item><a href=https://mobb.ninja/docs/rosa/aws-efs-csi-operator-sts/>Enabling the AWS EFS CSI Driver Operator on ROSA</a></li><li data-nav-id=/docs/rosa/waf/ title="Examples of using a WAF in front of ROSA / OSD on AWS / OCP on AWS" class=dd-item><input type=checkbox id=section-6293c009b4929ddbd0c9b2918068ea94 class=toggle><label for=section-6293c009b4929ddbd0c9b2918068ea94></label><a href=https://mobb.ninja/docs/rosa/waf/>Examples of using a WAF in front of ROSA / OSD on AWS / OCP on AWS</a><ul><li data-nav-id=/docs/rosa/waf/alb/ title="This is a POC of ROSA with a AWS WAF service" class=dd-item><a href=https://mobb.ninja/docs/rosa/waf/alb/>This is a POC of ROSA with a AWS WAF service</a></li><li data-nav-id=/docs/rosa/waf/readme-complex/ title="This is a POC of ROSA with a AWS WAF service" class=dd-item><a href=https://mobb.ninja/docs/rosa/waf/readme-complex/>This is a POC of ROSA with a AWS WAF service</a></li><li data-nav-id=/docs/rosa/waf/cloud-front/ title="Using CloudFront + WAF" class=dd-item><a href=https://mobb.ninja/docs/rosa/waf/cloud-front/>Using CloudFront + WAF</a></li></ul></li><li data-nav-id=/docs/rosa/using-sts-with-aws-services/ title="Extending ROSA STS to include authentication with AWS Services" class=dd-item><a href=https://mobb.ninja/docs/rosa/using-sts-with-aws-services/>Extending ROSA STS to include authentication with AWS Services</a></li><li data-nav-id=/docs/rosa/federated-metrics-prometheus/ title="Federating Metrics to a centralized Prometheus Cluster" class=dd-item><a href=https://mobb.ninja/docs/rosa/federated-metrics-prometheus/>Federating Metrics to a centralized Prometheus Cluster</a></li><li data-nav-id=/docs/rosa/sts-and-pod-identity/ title="Integrating with AWS resources using Pod Identity" class=dd-item><a href=https://mobb.ninja/docs/rosa/sts-and-pod-identity/>Integrating with AWS resources using Pod Identity</a></li><li data-nav-id=/docs/rosa/cluster-metrics-to-aws-prometheus/ title="ROSA - Federating Metrics to AWS Prometheus" class=dd-item><a href=https://mobb.ninja/docs/rosa/cluster-metrics-to-aws-prometheus/>ROSA - Federating Metrics to AWS Prometheus</a></li><li data-nav-id=/docs/rosa/aws-secrets-manager-csi/ title="Using AWS Secrets Manager CSI on Red Hat OpenShift on AWS with STS" class=dd-item><a href=https://mobb.ninja/docs/rosa/aws-secrets-manager-csi/>Using AWS Secrets Manager CSI on Red Hat OpenShift on AWS with STS</a></li><li data-nav-id=/docs/rosa/metrics-to-cloudwatch-agent/ title="Using the AWS Cloud Watch agent to publish metrics to CloudWatch in ROSA" class=dd-item><a href=https://mobb.ninja/docs/rosa/metrics-to-cloudwatch-agent/>Using the AWS Cloud Watch agent to publish metrics to CloudWatch in ROSA</a></li><li data-nav-id=/docs/rosa/sts-cluster-logging-addon/ title="Work Around to fix the issue with the logging-addon on ROSA STS Clusters" class=dd-item><a href=https://mobb.ninja/docs/rosa/sts-cluster-logging-addon/>Work Around to fix the issue with the logging-addon on ROSA STS Clusters</a></li><li data-nav-id=/docs/rosa/clf-cloudwatch-sts/ title="Configuring the Cluster Log Forwarder for CloudWatch Logs and STS" class=dd-item><a href=https://mobb.ninja/docs/rosa/clf-cloudwatch-sts/>Configuring the Cluster Log Forwarder for CloudWatch Logs and STS</a></li><li data-nav-id=/docs/rosa/sts/ title="Creating a ROSA cluster in STS mode" class=dd-item><a href=https://mobb.ninja/docs/rosa/sts/>Creating a ROSA cluster in STS mode</a></li><li data-nav-id=/docs/rosa/private-link/ title="Creating a ROSA cluster with Private Link enabled" class=dd-item><input type=checkbox id=section-71f53e8bae0a034c83f5c2f0c7c9c315 class=toggle><label for=section-71f53e8bae0a034c83f5c2f0c7c9c315></label><a href=https://mobb.ninja/docs/rosa/private-link/>Creating a ROSA cluster with Private Link enabled</a><ul><li data-nav-id=/docs/rosa/private-link/public-ingress/ title="Adding a Public Ingress endpoint to a ROSA Private-Link Cluster" class=dd-item><a href=https://mobb.ninja/docs/rosa/private-link/public-ingress/>Adding a Public Ingress endpoint to a ROSA Private-Link Cluster</a></li></ul></li><li data-nav-id=/docs/rosa/sts-with-private-link/ title="Creating a ROSA cluster with Private Link enabled (custom VPC) and STS" class=dd-item><a href=https://mobb.ninja/docs/rosa/sts-with-private-link/>Creating a ROSA cluster with Private Link enabled (custom VPC) and STS</a></li><li data-nav-id=/docs/rosa/custom-alertmanager-4.9/ title="Custom AlertManager in ROSA 4.9.x" class=dd-item><a href=https://mobb.ninja/docs/rosa/custom-alertmanager-4.9/>Custom AlertManager in ROSA 4.9.x</a></li><li data-nav-id=/docs/rosa/aws-efs-operator-on-rosa/ title="Enabling the AWS EFS Operator on ROSA" class=dd-item><a href=https://mobb.ninja/docs/rosa/aws-efs-operator-on-rosa/>Enabling the AWS EFS Operator on ROSA</a></li><li data-nav-id=/docs/rosa/federated-metrics/ title="Federating System and User metrics to S3 in Red Hat OpenShift for AWS" class=dd-item><input type=checkbox id=section-9567eab834a47ae397393da72ca0280d class=toggle><label for=section-9567eab834a47ae397393da72ca0280d></label><a href=https://mobb.ninja/docs/rosa/federated-metrics/>Federating System and User metrics to S3 in Red Hat OpenShift for AWS</a><ul><li data-nav-id=/docs/rosa/federated-metrics/user-defined/ title="User Workload Monitoring on Azure Red Hat OpenShift" class=dd-item><a href=https://mobb.ninja/docs/rosa/federated-metrics/user-defined/>User Workload Monitoring on Azure Red Hat OpenShift</a></li></ul></li><li data-nav-id=/docs/rosa/ack/ title="Using AWS Controllers for Kubernetes (ACK) on ROSA" class=dd-item><a href=https://mobb.ninja/docs/rosa/ack/>Using AWS Controllers for Kubernetes (ACK) on ROSA</a></li></ul></li><li data-nav-id=/docs/idp/ title="Configuring IDP for ROSA and OSD" class=dd-item><input type=checkbox id=section-de867ba7872b33ba38d343e5be5e3e1c class=toggle><label for=section-de867ba7872b33ba38d343e5be5e3e1c></label><a href=https://mobb.ninja/docs/idp/>Configuring IDP for ROSA and OSD</a><ul><li data-nav-id=/docs/idp/okta-grp-sync/ title="Using Group Sync Operator with Okta and ROSA/OSD" class=dd-item><a href=https://mobb.ninja/docs/idp/okta-grp-sync/>Using Group Sync Operator with Okta and ROSA/OSD</a></li><li data-nav-id=/docs/idp/azuread-aro/ title="Configure ARO to use Azure AD" class=dd-item><a href=https://mobb.ninja/docs/idp/azuread-aro/>Configure ARO to use Azure AD</a></li><li data-nav-id=/docs/idp/azuread-aro-cli/ title="Configure Azure AD as an OIDC identity provider for ARO with cli" class=dd-item><a href=https://mobb.ninja/docs/idp/azuread-aro-cli/>Configure Azure AD as an OIDC identity provider for ARO with cli</a></li><li data-nav-id=/docs/idp/azuread/ title="Configure Azure AD as an OIDC identity provider for ROSA/OSD" class=dd-item><a href=https://mobb.ninja/docs/idp/azuread/>Configure Azure AD as an OIDC identity provider for ROSA/OSD</a></li><li data-nav-id=/docs/idp/gitlab-aro/ title="Configure GitLab as an identity provider for ARO" class=dd-item><a href=https://mobb.ninja/docs/idp/gitlab-aro/>Configure GitLab as an identity provider for ARO</a></li><li data-nav-id=/docs/idp/gitlab/ title="Configure GitLab as an identity provider for ROSA/OSD" class=dd-item><a href=https://mobb.ninja/docs/idp/gitlab/>Configure GitLab as an identity provider for ROSA/OSD</a></li><li data-nav-id=/docs/idp/az-ad-grp-sync/ title="Using Group Sync Operator with Azure Active Directory and ROSA" class=dd-item><a href=https://mobb.ninja/docs/idp/az-ad-grp-sync/>Using Group Sync Operator with Azure Active Directory and ROSA</a></li><li data-nav-id=/docs/idp/group-claims/ title="MOBB Docs and Guides - group-claims" class=dd-item><input type=checkbox id=section-af199904c6a78739e6598ab72890c976 class=toggle><label for=section-af199904c6a78739e6598ab72890c976></label><a href=https://mobb.ninja/docs/idp/group-claims/>MOBB Docs and Guides - group-claims</a><ul><li data-nav-id=/docs/idp/group-claims/rosa/ title="Configure ROSA to use Azure AD Group Claims" class=dd-item><a href=https://mobb.ninja/docs/idp/group-claims/rosa/>Configure ROSA to use Azure AD Group Claims</a></li><li data-nav-id=/docs/idp/group-claims/aro/ title="Configure ARO to use Azure AD Group Claims" class=dd-item><a href=https://mobb.ninja/docs/idp/group-claims/aro/>Configure ARO to use Azure AD Group Claims</a></li></ul></li></ul></li><li data-nav-id=/docs/misc/ title=Miscellaneous class=dd-item><input type=checkbox id=section-4743293995ef089d075c101a4e477e5c class=toggle><label for=section-4743293995ef089d075c101a4e477e5c></label><a href=https://mobb.ninja/docs/misc/>Miscellaneous</a><ul><li data-nav-id=/docs/misc/tls-cipher-customization/ title="Configure ROSA/OSD to use custom TLS ciphers on the ingress controllers" class=dd-item><a href=https://mobb.ninja/docs/misc/tls-cipher-customization/>Configure ROSA/OSD to use custom TLS ciphers on the ingress controllers</a></li><li data-nav-id=/docs/misc/jup/ title="Jupyter Notebooks" class=dd-item><input type=checkbox id=section-7af6414e26181825f2ee42d2fad956be class=toggle><label for=section-7af6414e26181825f2ee42d2fad956be></label><a href=https://mobb.ninja/docs/misc/jup/>Jupyter Notebooks</a><ul><li data-nav-id=/docs/misc/jup/buildnotebook/ title="How to deploy Jupyter Notebook" class=dd-item><a href=https://mobb.ninja/docs/misc/jup/buildnotebook/>How to deploy Jupyter Notebook</a></li><li data-nav-id=/docs/misc/jup/opendatahub-gpu/ title="Installing the Open Data Hub Operator" class=dd-item><a href=https://mobb.ninja/docs/misc/jup/opendatahub-gpu/>Installing the Open Data Hub Operator</a></li></ul></li><li data-nav-id=/docs/misc/default-router-custom-domain/ title="Stop default router from serving custom domain routes" class=dd-item><a href=https://mobb.ninja/docs/misc/default-router-custom-domain/>Stop default router from serving custom domain routes</a></li><li data-nav-id=/docs/misc/references/ title="Common Managed OpenShift References / Tasks" class=dd-item><a href=https://mobb.ninja/docs/misc/references/>Common Managed OpenShift References / Tasks</a></li><li data-nav-id=/docs/misc/secrets-store-csi/ title="Installing the Kubernetes Secret Store CSI on OpenShift" class=dd-item><input type=checkbox id=section-83dcfc1bac9347003164dd6ca6bb9da6 class=toggle><label for=section-83dcfc1bac9347003164dd6ca6bb9da6></label><a href=https://mobb.ninja/docs/misc/secrets-store-csi/>Installing the Kubernetes Secret Store CSI on OpenShift</a><ul><li data-nav-id=/docs/misc/secrets-store-csi/azure-key-vault/ title="Azure Key Vault CSI on Azure Red Hat OpenShift" class=dd-item><a href=https://mobb.ninja/docs/misc/secrets-store-csi/azure-key-vault/>Azure Key Vault CSI on Azure Red Hat OpenShift</a></li><li data-nav-id=/docs/misc/secrets-store-csi/hashicorp-vault/ title="Installing the HashiCorp Vault Secret CSI Driver" class=dd-item><a href=https://mobb.ninja/docs/misc/secrets-store-csi/hashicorp-vault/>Installing the HashiCorp Vault Secret CSI Driver</a></li></ul></li><li data-nav-id=/docs/misc/common-images-namespace/ title="OpenShift - Sharing Common images" class=dd-item><a href=https://mobb.ninja/docs/misc/common-images-namespace/>OpenShift - Sharing Common images</a></li><li data-nav-id=/docs/misc/cost-management/ title="Red Hat Cost Management for Cloud Services" class=dd-item><a href=https://mobb.ninja/docs/misc/cost-management/>Red Hat Cost Management for Cloud Services</a></li><li data-nav-id=/docs/misc/oadp/ title="MOBB Docs and Guides - oadp" class=dd-item><input type=checkbox id=section-325dd7bf30613094ac338d7da82aacea class=toggle><label for=section-325dd7bf30613094ac338d7da82aacea></label><a href=https://mobb.ninja/docs/misc/oadp/>MOBB Docs and Guides - oadp</a><ul><li data-nav-id=/docs/misc/oadp/rosa-sts/ title="Deploying OpenShift Advanced Data Protection on a ROSA cluster" class=dd-item><a href=https://mobb.ninja/docs/misc/oadp/rosa-sts/>Deploying OpenShift Advanced Data Protection on a ROSA cluster</a></li></ul></li></ul></li><li data-nav-id=/docs/o11y/ title=Observability class=dd-item><input type=checkbox id=section-cf64d50e30bf8c808e1a384a9dd9f94e class=toggle><label for=section-cf64d50e30bf8c808e1a384a9dd9f94e></label><a href=https://mobb.ninja/docs/o11y/>Observability</a><ul><li data-nav-id=/docs/o11y/openshift-logging/ title="OpenShift Logging" class=dd-item><a href=https://mobb.ninja/docs/o11y/openshift-logging/>OpenShift Logging</a></li><li data-nav-id=/docs/o11y/az-log-analytics/ title="Shipping logs to Azure Log Analytics" class=dd-item><a href=https://mobb.ninja/docs/o11y/az-log-analytics/>Shipping logs to Azure Log Analytics</a></li></ul></li><li data-nav-id=/docs/gcp/ title="OSD on Google Cloud" class=dd-item><input type=checkbox id=section-34c34dd71fe103bc20cfa9eed6fa905c class=toggle><label for=section-34c34dd71fe103bc20cfa9eed6fa905c></label><a href=https://mobb.ninja/docs/gcp/>OSD on Google Cloud</a><ul><li data-nav-id=/docs/gcp/filestore/ title="Create Filestore Storage for OSD in GCP" class=dd-item><a href=https://mobb.ninja/docs/gcp/filestore/>Create Filestore Storage for OSD in GCP</a></li><li data-nav-id=/docs/gcp/osd_preexisting_vpc/ title="Creating a OSD in GCP with Existing VPCs" class=dd-item><a href=https://mobb.ninja/docs/gcp/osd_preexisting_vpc/>Creating a OSD in GCP with Existing VPCs</a></li></ul></li><li data-nav-id=/docs/redhat/ title="Other Red Hat Products" class=dd-item><input type=checkbox id=section-61ee77d4a0d9667d2a6b99ce46059f1d class=toggle><label for=section-61ee77d4a0d9667d2a6b99ce46059f1d></label><a href=https://mobb.ninja/docs/redhat/>Other Red Hat Products</a><ul><li data-nav-id=/docs/redhat/gitops/ title="Demonstrate GitOps on Managed OpenShift with ArgoCD" class=dd-item><a href=https://mobb.ninja/docs/redhat/gitops/>Demonstrate GitOps on Managed OpenShift with ArgoCD</a></li><li data-nav-id=/docs/redhat/3scale/ title="Deploying 3scale API Management to ROSA and OSD" class=dd-item><a href=https://mobb.ninja/docs/redhat/3scale/>Deploying 3scale API Management to ROSA and OSD</a></li><li data-nav-id=/docs/redhat/rhacs/ title="Deploying Red Hat Advanced Cluster Security in ARO/ROSA" class=dd-item><a href=https://mobb.ninja/docs/redhat/rhacs/>Deploying Red Hat Advanced Cluster Security in ARO/ROSA</a></li><li data-nav-id=/docs/redhat/crane/ title="Migrate Kubernetes Applications with Konveyer Crane" class=dd-item><a href=https://mobb.ninja/docs/redhat/crane/>Migrate Kubernetes Applications with Konveyer Crane</a></li><li data-nav-id=/docs/redhat/acm/ title="Advanced Cluster Management" class=dd-item><input type=checkbox id=section-d7942abe72cdf38022f3b7c824316905 class=toggle><label for=section-d7942abe72cdf38022f3b7c824316905></label><a href=https://mobb.ninja/docs/redhat/acm/>Advanced Cluster Management</a><ul><li data-nav-id=/docs/redhat/acm/observability/ title="Advanced Cluster Management - Observability" class=dd-item><input type=checkbox id=section-16c8cbcc1de529ce480045089e9bde5c class=toggle><label for=section-16c8cbcc1de529ce480045089e9bde5c></label><a href=https://mobb.ninja/docs/redhat/acm/observability/>Advanced Cluster Management - Observability</a><ul><li data-nav-id=/docs/redhat/acm/observability/rosa/ title="Advanced Cluster Management Observability on ROSA" class=dd-item><a href=https://mobb.ninja/docs/redhat/acm/observability/rosa/>Advanced Cluster Management Observability on ROSA</a></li></ul></li></ul></li></ul></li></ul></li></ul><div id=shortcuts><div class=nav-title></div><ul><li><a class=padding href=https://github.com/rh-mobb/documentation target=_blank><i class='fab fa-fw fa-github'></i> Github</a></li><li><a class=padding href=https://github.com/rh-mobb/documentation/archive/refs/heads/main.zip target=_blank><i class='fas fa-fw fa-file-download'></i> Download</a></li><li><a class=padding href=https://www.redhat.com/en/blog target=_blank><i class='fab fa-fw fa-redhat'></i> Red Hat Blog</a></li><li><a class=padding href=https://mobb.ninja/tags/ target=_blank><i class='fas fa-fw fa-tags'></i> Tags</a></li></ul></div><div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div><hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"><div id=prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks"><ul><li id=select-language-container class=footerLangSwitch><a class="padding select-container"><i class="fas fa-language fa-fw"></i>
<span>&nbsp;</span><div class=select-style><select id=select-language onchange="location=baseUri+this.value"></select></div><div class=select-clear></div></a></li><li id=select-variant-container class=footerVariantSwitch><a class="padding select-container"><i class="fas fa-paint-brush fa-fw"></i>
<span>&nbsp;</span><div class=select-style><select id=select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=red value=red selected>Red</option></select></div><div class=select-clear></div></a><script>window.variants&&variants.markSelectedVariant()</script></li><li class=footerVisitedLinks><a class=padding onclick=clearHistory()><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></div><div id=footer class="footerFooter showFooter"><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=https://mobb.ninja/js/clipboard.min.js?1673631443 defer></script>
<script src=https://mobb.ninja/js/perfect-scrollbar.min.js?1673631443 defer></script>
<script src=https://mobb.ninja/js/featherlight.min.js?1673631443 defer></script>
<script src=https://mobb.ninja/js/theme.js?1673631443 defer></script></body></html>