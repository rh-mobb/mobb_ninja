<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Azure Red Hat OpenShift on Managed OpenShift Black Belt - Unofficial Documentation</title><link>https://mobb.ninja/docs/aro/</link><description>Recent content in Azure Red Hat OpenShift on Managed OpenShift Black Belt - Unofficial Documentation</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 14 Sep 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://mobb.ninja/docs/aro/index.xml" rel="self" type="application/rss+xml"/><item><title>Azure Red Hat Openshift - Shippings logs and metrics to Azure Blob storage</title><link>https://mobb.ninja/docs/aro/shipping-logs-and-metrics-to-azure-blob/</link><pubDate>Sat, 01 Oct 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/shipping-logs-and-metrics-to-azure-blob/</guid><description>Azure Red Hat Openshift clusters have built in metrics and logs that can be viewed by both Administrators and Developers via the OpenShift Console. But there are many reasons you might want to store and view these metrics and logs from outside of the cluster.
The OpenShift developers have anticipated this needs and have provided ways to ship both metrics and logs outside of the cluster. In Azure we have the Azure Blob storage service which is perfect for storing the data.</description></item><item><title>Accessing the Internal Registry from ARO</title><link>https://mobb.ninja/docs/aro/registry/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/registry/</guid><description>Kevin Collins
06/28/2022
One of the advantages of using OpenShift is the internal registry that comes with OpenShfit to build, deploy and manage container images locally. By default, access to the registry is limited to the cluster ( by design ) but can be extended to usage outside of the cluster. This guide will go through the steps required to access the OpenShift Registry on an ARO cluster outside of the cluster.</description></item><item><title>ARO - Considerations for Disaster Recovery</title><link>https://mobb.ninja/docs/aro/disaster-recovery/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/disaster-recovery/</guid><description>This is a high level overview of disaster recovery options for Azure Red Hat OpenShift. It is not a detailed design, but rather a starting point for a more detailed design.
What is Disaster Recovery (DR) Disaster Recovery is an umbrella term that includes the following:
Backup (and restore!) Failover (and failback!) High Availability Disaster Avoidence The most important part of Disaster Recovery is the &amp;ldquo;Recovery&amp;rdquo;. Whatever your DR plan it must be tested and ideally performed on a semi-regular basis.</description></item><item><title>ARO Custom domain with cert-manager and LetsEncrypt</title><link>https://mobb.ninja/docs/aro/cert-manager/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/cert-manager/</guid><description>ARO guide to deploying an ARO cluster with custom domain and automating certificate management with cert-manager and letsencrypt certificates to manage the *.apps and api endpoints.
Author: Byron Miller
Prerequisites az cli oc cli jq gettext OpenShift 4.10 domain name to use I&amp;rsquo;m going to be running this setup through Fedora in WSL2. Be sure to always use the same terminal/session for all commands since we&amp;rsquo;ll reference environment variables set or created through the steps.</description></item><item><title>ARO IBM Cloud Paks 4 Data</title><link>https://mobb.ninja/docs/aro/ibm-cloud-paks-for-data/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/ibm-cloud-paks-for-data/</guid><description>A Quickstart guide to deploying an Azure Red Hat OpenShift cluster with IBM Cloud Paks 4 Data.
Author: Kristopher White
Video Walkthrough If you prefer a more visual medium, you can watch [Kristopher White] walk through this quickstart on YouTube.
Prerequisites Azure CLI Obviously you&amp;rsquo;ll need to have an Azure account to configure the CLI against.
MacOS
See Azure Docs for alternative install options.
Install Azure CLI using homebrew
brew update &amp;amp;&amp;amp; brew install azure-cli Linux</description></item><item><title>ARO with Nvidia GPU Workloads</title><link>https://mobb.ninja/docs/aro/gpu/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/gpu/</guid><description>ARO guide to running Nvidia GPU workloads.
Author: Byron Miller, Stuart Kirk
Prerequisites oc cli jq, moreutils, and gettext package ARO 4.10 If you need to install an ARO cluster, please read our ARO Quick start guide. Please be sure if you&amp;rsquo;re installing or using an existing ARO cluster that it is 4.10.x or higher.
As of OpenShift 4.10, it is no longer necessary to set up entitlements to use the nVidia Operator.</description></item><item><title>Azure Front Door with ARO ( Azure Red Hat OpenShift )</title><link>https://mobb.ninja/docs/aro/frontdoor/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/frontdoor/</guid><description>Securing exposing an Internet facing application with a private ARO Cluster.
When you create a cluster on ARO you have several options in making the cluster public or private. With a public cluster you are allowing Internet traffic to the api and *.apps endpoints. With a private cluster you can make either or both the api and .apps endpoints private.
How can you allow Internet access to an application running on your private cluster where the .</description></item><item><title>Azure Service Operator</title><link>https://mobb.ninja/docs/aro/azure-service-operator/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/azure-service-operator/</guid><description/></item><item><title>Enable the Managed Upgrade Operator in ARO and schedule Upgrades</title><link>https://mobb.ninja/docs/aro/managed-upgrade-operator/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/managed-upgrade-operator/</guid><description>Paul Czarkowski
04/12/2022
Prerequisites an Azure Red Hat OpenShift cluster Get Started Run this oc command to enable the Managed Upgrade Operator (MUO)
oc patch cluster.aro.openshift.io cluster --patch \ &amp;#39;{&amp;#34;spec&amp;#34;:{&amp;#34;operatorflags&amp;#34;:{&amp;#34;rh.srep.muo.enabled&amp;#34;: &amp;#34;true&amp;#34;,&amp;#34;rh.srep.muo.managed&amp;#34;: &amp;#34;true&amp;#34;,&amp;#34;rh.srep.muo.deploy.pullspec&amp;#34;:&amp;#34;arosvc.azurecr.io/managed-upgrade-operator@sha256:f57615aa690580a12c1e5031ad7ea674ce249c3d0f54e6dc4d070e42a9c9a274&amp;#34;}}}&amp;#39; \ --type=merge Wait a few moments to ensure the Management Upgrade Operator is ready
oc -n openshift-managed-upgrade-operator \ get deployment managed-upgrade-operator NAME READY UP-TO-DATE AVAILABLE AGE managed-upgrade-operator 1/1 1 1 2m2s Configure the Managed Upgrade Operator
cat &amp;lt;&amp;lt; EOF | oc apply -f - apiVersion: v1 kind: ConfigMap metadata: name: managed-upgrade-operator-config namespace: openshift-managed-upgrade-operator data: config.</description></item><item><title>OpenShift Data Foundation with ARO</title><link>https://mobb.ninja/docs/aro/odf/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/odf/</guid><description>Kevin Collins
06/28/2022
Note: This guide demonstrates how to setup and configure self-managed OpenShift Data Foundation in Internal Mode on an ARO Cluster and test it out.
Prerequisites An Azure Red Hat OpenShift cluster ( verion 4.10+ ) kubectl cli oc cli moreutils (sponge) jq Install compute nodes for ODF A best practice for optimal performance is to run ODF on dedicated nodes with a minimum of one per zone. In this guide, we will be provisioning 3 additional compute nodes, one per zone.</description></item><item><title>Quay on ARO</title><link>https://mobb.ninja/docs/aro/setup-quay/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/setup-quay/</guid><description/></item><item><title>Setup a VPN Connection into an ARO Cluster with OpenVPN</title><link>https://mobb.ninja/docs/aro/vpn/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/vpn/</guid><description>Kevin Collins
06/20/2022
When you configure an Azure Red Hat OpenShift (ARO) cluster with a private only configuration, you will need connectivity to this private network in order to access your cluster. This guide will show you how to configute a point-to0-site VPN connection so you won&amp;rsquo;t need to setup and configure Jump Boxes.
Prerequisites a private ARO Cluster git openssl Create certificates to use for your VPN Connection There are many ways and methods to create certificates for VPN, the guide below is one of the ways that works well.</description></item><item><title>Trident NetApp operator setup for Azure NetApp files</title><link>https://mobb.ninja/docs/aro/trident/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/trident/</guid><description>Byron Miller
05/23/2022
Note: This guide a simple &amp;ldquo;happy path&amp;rdquo; to show the path of least friction to showcasing how to use NetApp files with Azure Red Hat OpenShift. This may not be the best behavior for any system beyond demonstration purposes.
Prerequisites An Azure Red Hat OpenShift cluster installed with Service Principal role/credentials. kubectl cli oc cli helm 3 cli Review official trident documentation In this guide, you will need service principal and region details.</description></item><item><title>Adding an additional ingress controller to an ARO cluster</title><link>https://mobb.ninja/docs/aro/additional-ingress-controller/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/additional-ingress-controller/</guid><description>Paul Czarkowski, Stuart Kirk, Anton Nesterov
03/30/2022 (updated on 12/09/2022)
Prerequisites an Azure Red Hat OpenShift cluster a DNS zone that you can easily modify Get Started Create some environment variables
DOMAIN=custom.azure.mobb.ninja EMAIL=example@email.com SCRATCH_DIR=/tmp/aro Create a certificate for the ingress controller
certbot certonly --manual \ --preferred-challenges=dns \ --email $EMAIL \ --server https://acme-v02.api.letsencrypt.org/directory \ --agree-tos \ --manual-public-ip-logging-ok \ -d &amp;#34;*.$DOMAIN&amp;#34; \ --config-dir &amp;#34;$SCRATCH_DIR/config&amp;#34; \ --work-dir &amp;#34;$SCRATCH_DIR/work&amp;#34; \ --logs-dir &amp;#34;$SCRATCH_DIR/logs&amp;#34; Create a secret for the certificate</description></item><item><title>Adding infrastructure nodes to an ARO cluster</title><link>https://mobb.ninja/docs/aro/add-infra-nodes/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/add-infra-nodes/</guid><description>Paul Czarkowski
08/17/2022
This document shows how to set up infrastructure nodes in an ARO cluster and move infrastructure related workloads to them. This can help with larger clusters that have resource contention between user workloads and infrastructure workloads such as Prometheus.
Important note: Infrastructure nodes are billed at the same rates as your existing ARO worker nodes.
You can find the original (and more detailed) document describing the process for a self-managed OpenShift Container Platform cluster here</description></item><item><title>Apply Azure Policy to Azure Policy</title><link>https://mobb.ninja/docs/aro/azure-policy/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/azure-policy/</guid><description>Azure Policy helps to enforce organizational standards and to assess compliance at-scale. Azure Policy supports arc enabled kubernetes cluster with both build-in and custom policies to ensure kubernetes resources are compliant. This article demonstrates how to make Azure Redhat Openshift cluster compliant with azure policy.
Prerequisites Azure CLI Openshift CLI Azure Openshift Cluster (ARO Cluster) Deploy Azure Policy Deploy Azure Arc and Enable Azure Policy Add-on az connectedk8s connect -n [Cluster_Name] -g [Resource_Group_Name] az k8s-extension create --cluster-type connectedClusters --cluster-name [Cluster_Name] --resource-group [Resource_Group_Name] --extension-type Microsoft.</description></item><item><title>Federating System and User metrics to Azure Files in Azure Red Hat OpenShift</title><link>https://mobb.ninja/docs/aro/federated-metrics/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/federated-metrics/</guid><description>Paul Czarkowski
06/04/2021
By default Azure Red Hat OpenShift (ARO) stores metrics in Ephemeral volumes, and its advised that users do not change this setting. However its not unreasonable to expect that metrics should be persisted for a set amount of time.
This guide shows how to set up Thanos to federate both System and User Workload Metrics to a Thanos gateway that stores the metrics in Azure Files and makes them available via a Grafana instance (managed by the Grafana Operator).</description></item><item><title>Helm Chart to set up extra MachineSets on ARO clusters</title><link>https://mobb.ninja/docs/aro/aro-machinesets/readme/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/aro-machinesets/readme/</guid><description>Please refer to the The Managed OpenShift Black Belt team maintained Helm chart at here.
Author: Paul Czarkowski</description></item><item><title>Installing Astronomer on a private ARO cluster</title><link>https://mobb.ninja/docs/aro/astronomer/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/astronomer/</guid><description>see here for public clusters.
This assumes you&amp;rsquo;ve already got a private ARO cluster installed. You could also follow the same instructions to create a public Astronomer, just use a regular DNS zone and skip the private parts.
A default 3-node cluster is a bit small for Astronomer, If you have a three node cluster you can increase it by updating the replicas count machinesets in the openshift-machine-api namespace.</description></item><item><title>Integrating Azure ARC with ARO</title><link>https://mobb.ninja/docs/aro/azure-arc-integration/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/azure-arc-integration/</guid><description>This document explain how to integrate ARO cluster with Azure Arc-enabled Kubernetes. When you connect a Kubernetes/OpenShift cluster with Azure Arc, it will:
Be represented in Azure Resource Manager with a unique ID Be placed in an Azure subscription and resource group Receive tags just like any otherAzure resource Azure Arc-enabled Kubernetes supports the following scenarios for connected clusters:
Connect Kubernetes running outside of Azure for inventory, grouping, and tagging. Deploy applications and apply configuration using GitOps-based configuration management.</description></item><item><title>Private ARO Cluster with access via JumpHost</title><link>https://mobb.ninja/docs/aro/private-cluster/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/private-cluster/</guid><description>A Quickstart guide to deploying a Private Azure Red Hat OpenShift cluster.
Once the cluster is running you will need a way to access the private network that ARO is deployed into.
Author: Paul Czarkowski
Prerequisites Azure CLI Obviously you&amp;rsquo;ll need to have an Azure account to configure the CLI against.
MacOS
See Azure Docs for alternative install options.
Install Azure CLI using homebrew
brew update &amp;amp;&amp;amp; brew install azure-cli Linux</description></item><item><title>Registering an ARO cluster to OpenShift Cluster Manager</title><link>https://mobb.ninja/docs/aro/ocm/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/ocm/</guid><description>Registering an ARO cluster to OpenShift Cluster Manager ARO clusters do not come connected to OpenShift Cluster Manager by default, because Azure would like customers to specifically opt-in to connections / data sent outside of Azure. This is the case with registering to OpenShift cluster manager, which enables a telemetry service in ARO.
Prerequisites An Red Hat account. If you have any subscriptions with Red Hat, you will have a Red Hat account.</description></item><item><title>Using Cluster Logging Forwarder in ARO with Azure Monitor</title><link>https://mobb.ninja/docs/aro/clf-to-azure/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/clf-to-azure/</guid><description>Paul Czarkowski, Steve Mirman
08/19/2021
In Azure Red Hat OpenShift (ARO) you can fairly easily set up cluster logging to an in-cluster Elasticsearch using the OpenShift Elasticsearch Operator and the Cluster Logging Operator, but what if you want to use the Azure native Log Analytics service?
There&amp;rsquo;s a number of ways to do this, for example installing agents onto the VMs (in this case, it would be a DaemonSet with hostvar mounts) but that isn&amp;rsquo;t ideal in a managed system like ARO.</description></item><item><title>Using the Egressip Ipam Operator with a Private ARO Cluster</title><link>https://mobb.ninja/docs/aro/egress-ipam-operator/</link><pubDate>Wed, 14 Sep 2022 22:07:08 +0000</pubDate><guid>https://mobb.ninja/docs/aro/egress-ipam-operator/</guid><description>Prerequisites A private ARO cluster Deploy the Egressip Ipam Operator Via GUI Log into the ARO cluster&amp;rsquo;s Console
Switch to the Administrator view
Click on Operators -&amp;gt; Operator Hub
Search for &amp;ldquo;Egressip Ipam Operator&amp;rdquo;
Install it with the default settings
or
Via CLI Deploy the egress-ipam-operator
cat &amp;lt;&amp;lt; EOF | kubectl apply -f - --- apiVersion: v1 kind: Namespace metadata: name: egressip-ipam-operator --- apiVersion: operators.coreos.com/v1alpha1 kind: Subscription metadata: name: egressip-ipam-operator namespace: openshift-operators labels: operators.</description></item></channel></rss>